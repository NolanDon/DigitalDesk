<head>
    <meta charset="UTF-8">
    <link rel="icon" href="favicon.ico" type="image/ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Categories | Digital Desk</title>
    <link rel="stylesheet" href="styles/styles.css">
    <link rel="stylesheet" href="styles/category.css">
    <link rel="stylesheet" href="styles/footer.css">
    <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;500;700&display=swap"
        rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script type="module" src="/app.js"></script>
</head>

<body>
    <!-- Navbar -->
    <header>
        <div class="logo">
            <a href="/">
                <img src="images/logo.png" alt="Icon" class="navbar-logo">
            </a>
        </div>
        </div>
        <nav>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="reviews.html">Reviews</a></li>
                <li><a href="categories.html">Categories</a></li>
                <li><a href="popular.html">Popular</a></li>
                <li><a href="guides.html">Guides</a></li>
            </ul>
            <a id="add-item-link"></a>
            <a id="sign-in" href="#">
                <svg width="24" height="24" viewBox="0 0 50 50">
                  <circle cx="25" cy="25" r="20" stroke="white" stroke-width="4" fill="none" stroke-linecap="round" 
                          stroke-dasharray="100, 50" transform="rotate(-90 25 25)">
                    <animateTransform attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="1s" repeatCount="indefinite" />
                  </circle>
                </svg>
              </a>
            <div id="sign-in-status"></div>

            <div class="hamburger" id="hamburger">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
        </nav>
    </header>

    <!-- Categories Section -->
    <main id="categories">
        <div class="categories-header">
            <h1>Explore Categories</h1>
            <p>Browse our categories to help narrow down your search.</p>
            <input type="text" id="category-search" class="search-bar" placeholder="Search categories..."
                oninput="filterCategories()" />
        </div>

        <div class="categories-container" id="categories-container">
            <!-- Existing Categories -->
            <div class="category-card" data-category="laptops">
                <i class="fas fa-laptop category-icon"></i>
                <h3>Laptops</h3>
            </div>
            <div class="category-card" data-category="desks">
                <i class="fas fa-table category-icon"></i>
                <h3>Desks</h3>
            </div>
            <div class="category-card" data-category="mice">
                <i class="fas fa-mouse category-icon"></i>
                <h3>Mice</h3>
            </div>
            <div class="category-card" data-category="keyboards">
                <i class="fas fa-keyboard category-icon"></i>
                <h3>Keyboards</h3>
            </div>
            <div class="category-card" data-category="chairs">
                <i class="fas fa-chair category-icon"></i>
                <h3>Chairs</h3>
            </div>
            <div class="category-card" data-category="peripherals">
                <i class="fas fa-plug category-icon"></i>
                <h3>Peripherals</h3>
            </div>

            <!-- New Categories -->
            <div class="category-card" data-category="monitors">
                <i class="fas fa-desktop category-icon"></i>
                <h3>Monitors</h3>
            </div>
            <div class="category-card" data-category="headphones">
                <i class="fas fa-headphones category-icon"></i>
                <h3>Headphones</h3>
            </div>
            <div class="category-card" data-category="speakers">
                <i class="fas fa-volume-up category-icon"></i>
                <h3>Speakers</h3>
            </div>
            <div class="category-card" data-category="smartphones">
                <i class="fas fa-mobile-alt category-icon"></i>
                <h3>Smartphones</h3>
            </div>
            <div class="category-card" data-category="tablets">
                <i class="fas fa-tablet-alt category-icon"></i>
                <h3>Tablets</h3>
            </div>
            <div class="category-card" data-category="smartwatches">
                <i class="fas fa-clock category-icon"></i>
                <h3>Smartwatches</h3>
            </div>
            <div class="category-card" data-category="printers">
                <i class="fas fa-print category-icon"></i>
                <h3>Printers</h3>
            </div>
            <div class="category-card" data-category="routers">
                <i class="fas fa-wifi category-icon"></i>
                <h3>Routers</h3>
            </div>
            <div class="category-card" data-category="cameras">
                <i class="fas fa-camera category-icon"></i>
                <h3>Cameras</h3>
            </div>
            <div class="category-card" data-category="drones">
                <i class="fas fa-helicopter category-icon"></i>
                <h3>Drones</h3>
            </div>
            <div class="category-card" data-category="gaming-consoles">
                <i class="fas fa-gamepad category-icon"></i>
                <h3>Gaming Consoles</h3>
            </div>
            <div class="category-card" data-category="vr-headsets">
                <i class="fas fa-vr-cardboard category-icon"></i>
                <h3>VR Headsets</h3>
            </div>
            <div class="category-card" data-category="external-storage">
                <i class="fas fa-hdd category-icon"></i>
                <h3>External Storage</h3>
            </div>
            <div class="category-card" data-category="graphics-cards">
                <i class="fas fa-microchip category-icon"></i>
                <h3>Graphics Cards</h3>
            </div>
            <div class="category-card" data-category="processors">
                <i class="fas fa-microchip category-icon"></i>
                <h3>Processors</h3>
            </div>
            <div class="category-card" data-category="motherboards">
                <i class="fas fa-microchip category-icon"></i>
                <h3>Motherboards</h3>
            </div>
            <div class="category-card" data-category="power-supplies">
                <i class="fas fa-bolt category-icon"></i>
                <h3>Power Supplies</h3>
            </div>
            <div class="category-card" data-category="cooling-systems">
                <i class="fas fa-fan category-icon"></i>
                <h3>Cooling Systems</h3>
            </div>
            <div class="category-card" data-category="webcams">
                <i class="fas fa-video category-icon"></i>
                <h3>Webcams</h3>
            </div>
            <div class="category-card" data-category="microphones">
                <i class="fas fa-microphone category-icon"></i>
                <h3>Microphones</h3>
            </div>
            <div class="category-card" data-category="streaming-gear">
                <i class="fas fa-broadcast-tower category-icon"></i>
                <h3>Streaming Gear</h3>
            </div>
            <div class="category-card" data-category="smart-home">
                <i class="fas fa-home category-icon"></i>
                <h3>Smart Home</h3>
            </div>
            <div class="category-card" data-category="wearables">
                <i class="fas fa-clock category-icon"></i>
                <h3>Wearables</h3>
            </div>
            <div class="category-card" data-category="projectors">
                <i class="fas fa-film category-icon"></i>
                <h3>Projectors</h3>
            </div>
            <div class="category-card" data-category="cables">
                <i class="fas fa-plug category-icon"></i>
                <h3>Cables</h3>
            </div>
            <div class="category-card" data-category="software">
                <i class="fas fa-code category-icon"></i>
                <h3>Software</h3>
            </div>
        </div>
    </main>
    <script>
        const hamburger = document.getElementById('hamburger');
        const nav = document.querySelector('nav');

        hamburger.addEventListener('click', () => {
            nav.classList.toggle('active');
        });


        // Add to <script> in categories.html
        document.querySelectorAll('.category-card').forEach(card => {
            card.addEventListener('click', () => {
                const category = card.getAttribute('data-category');
                window.location.href = `best-picks.html?category=${category}`;
            });
        });

        // JavaScript to filter category cards based on search input
        function filterCategories() {
            const searchInput = document.getElementById('category-search').value.toLowerCase();
            const categoryCards = document.querySelectorAll('.category-card');

            categoryCards.forEach(card => {
                const category = card.getAttribute('data-category');
                if (category.includes(searchInput)) {
                    card.style.display = "block";
                } else {
                    card.style.display = "none";
                }
            });
        }
    </script>
    <script type="text/javascript">

initApp = function () {
            firebase.auth().onAuthStateChanged(function (user) {
                const signInButton = document.getElementById('sign-in');
                signInButton.className = 'distinct-button';
                // const signInStatus = document.getElementById('sign-in-status');
                // const accountDetails = document.getElementById('account-details');
                const addItemLink = document.getElementById('add-item-link');


                if (user) {
                    // If the user is Nolan, add the "Add Item" link
                    if (user.email === "nolan796@live.ca") {
                        addItemLink.innerHTML = '<a href="/submit.html" class="distinct-button">Add Item</a>';
                    } else {
                        addItemLink.innerHTML = '';
                    }

                    // User is signed in
                    signInButton.textContent = 'Sign out';
                    signInButton.className = 'distinct-button';
                    signInButton.onclick = () => {
                        firebase.auth().signOut().then(function () {
                            signInButton.textContent = 'Login';
                            signInButton.className = 'distinct-button';
                            signInButton.textContent = 'Login'; // Reset the button text
                            // Clear the status
                            // accountDetails.textContent = ''; // Clear the account details
                        }).catch((error) => {
                            console.error('Sign out error:', error);
                        });
                    };

                    // accountDetails.textContent = JSON.stringify(user, null, 2); // Format user data nicely
                } else {
                    // User is not signed in
                    signInButton.textContent = 'Login';
                    signInButton.onclick = () => {
                        window.location.href = '/login.html'; // Redirect to the login page
                    };

                    // accountDetails.textContent = '';
                    addItemLink.innerHTML = ''; // Ensure the "Add Item" link is removed if logged out
                }
            }, function (error) {
                console.log(error);
            });
        };

        window.addEventListener('load', function () {
            initApp()
        });
    </script>
    <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js"></script>

    <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-analytics.js"></script>

    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-firestore.js"></script>
    <!-- <script src="./Auth.js"></script> -->
    <script src="./_config/firebase.js"></script>
</body>